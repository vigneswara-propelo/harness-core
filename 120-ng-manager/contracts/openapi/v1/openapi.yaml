openapi: 3.0.3
info:
  title: Harness NextGen Software Delivery Platform API Reference
  version: '1.0'
  description: This is the Open Api Spec 3 for NextGen Manager. This is under active development. Beware of the breaking change with respect to the generated code stub
  contact:
    email: contact@harness.io
servers:
  - url: 'https://app.harness.io'
    description: Harness host URL.
tags:
  - name: Organization
    description: 'Create and manage organizations in your account. You use organizations to group together related projects. For example, you can use an organization to group together projects within a business unit or division.'
  - name: Org Project
    description: This contains APIs for projects.
    x-displayName: 'Project [Beta]'
  - name: Account Secret
    description: This contains APIs for account-scoped secrets.
    x-displayName: 'Account Secrets [Beta]'
  - name: Org Secret
    description: This contains APIs for organization-scoped secrets.
    x-displayName: 'Organization Secrets [Beta]'
  - name: Project Secret
    description: This contains APIs for project-scoped secrets.
    x-displayName: 'Project Secrets [Beta]'
  - name: Account Services
    description: This contains APIs for account-scoped services.
    x-displayName: 'Account Services [Beta]'
  - name: Org Services
    description: This contains APIs for organization-scoped services.
    x-displayName: 'Organization Services [Beta]'
  - name: Project Services
    description: This contains APIs for project-scoped services.
    x-displayName: 'Project Services [Beta]'
  - name: Account Favorites
    description: This contains APIs for account-scoped Favorites.
    x-displayName: 'Account Favorites [Beta]'
  - name: Org Favorites
    description: This contains APIs for organization-scoped Favorites.
    x-displayName: 'Organization Favorites [Beta]'
  - name: Project Favorites
    description: This contains APIs for project-scoped Favorites.
    x-displayName: 'Project Favorites [Beta]'
  - name: Account Rancher Infrastructure
    description: This contains APIs for Rancher infra entities for account level.
    x-displayName: 'Account Rancher Infrastructure [Beta]'
  - name: Org Rancher Infrastructure
    description: This contains APIs for Rancher infra entities for org level.
    x-displayName: 'Org Rancher Infrastructure [Beta]'
  - name: Project Rancher Infrastructure
    description: This contains APIs for Rancher infra entities for project level.
    x-displayName: 'Project Rancher Infrastructure [Beta]'
paths:
  '/v1/orgs/{org}/projects/{project}/services/{service}':
    get:
      summary: Retrieve a service
      operationId: get-service
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      description: Retrieves the specified service
      security:
        - x-api-key: []
      responses:
        '200':
          $ref: '#/components/responses/ServiceResponse'
      tags:
        - Project Services
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ProjectPathParam'
      - $ref: '#/components/parameters/ServicePathParam'
    put:
      summary: Update Service
      operationId: update-service
      responses:
        '200':
          $ref: '#/components/responses/ServiceResponse'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      requestBody:
        $ref: '#/components/requestBodies/ServiceRequest'
      description: Updates the specified service
      security:
        - x-api-key: []
      tags:
        - Project Services
    delete:
      summary: Delete a Service
      operationId: delete-service
      responses:
        '200':
          $ref: '#/components/responses/ServiceResponse'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/ForceDelete'
      description: Deletes the requested service.
      security:
        - x-api-key: []
      tags:
        - Project Services
  '/v1/orgs/{org}/projects/{project}/services':
    get:
      summary: List Services
      responses:
        '200':
          $ref: '#/components/responses/ServiceListResponse'
      operationId: get-services
      parameters:
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/SearchTerm'
        - $ref: '#/components/parameters/ServiceIdentifiers'
        - $ref: '#/components/parameters/Sort'
        - schema:
            type: boolean
          in: query
          name: is_access_list
          description: Specifies whether the list is an access list. An access list is a list of services that you are permitted to use in a pipeline.
        - schema:
            type: string
            enum:
              - Kubernetes
              - NativeHelm
              - Ssh
              - WinRm
              - ServerlessAwsLambda
              - AzureWebApp
          name: type
          in: query
          description: Service Definition type
        - schema:
            type: boolean
          name: git_ops_enabled
          in: query
          description: Enables you to use the service in Harness GitOps PR pipelines.
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Order'
      security:
        - x-api-key: []
      description: Returns a list of the services for which you have view permissions in the given project.
      tags:
        - Project Services
    post:
      summary: Create a Service
      operationId: create-service
      responses:
        '201':
          $ref: '#/components/responses/ServiceResponse'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      requestBody:
        $ref: '#/components/requestBodies/ServiceRequest'
      description: Creates a service
      security:
        - x-api-key: []
      tags:
        - Project Services
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ProjectPathParam'
  '/v1/orgs/{org}/services/{service}':
    get:
      summary: Retrieve a service
      operationId: get-org-scoped-service
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      description: Retrieves the specified service
      security:
        - x-api-key: []
      responses:
        '200':
          $ref: '#/components/responses/ServiceResponse'
      tags:
        - Org Services
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ServicePathParam'
    put:
      summary: Update Service
      operationId: update-org-scoped-service
      responses:
        '200':
          $ref: '#/components/responses/ServiceResponse'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      requestBody:
        $ref: '#/components/requestBodies/ServiceRequest'
      description: Updates the specified service
      security:
        - x-api-key: []
      tags:
        - Org Services
    delete:
      summary: Delete a service
      operationId: delete-org-scoped-service
      responses:
        '200':
          $ref: '#/components/responses/ServiceResponse'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/ForceDelete'
      description: Deletes the requested service
      security:
        - x-api-key: []
      tags:
        - Org Services
  '/v1/orgs/{org}/services':
    get:
      summary: List Services
      responses:
        '200':
          $ref: '#/components/responses/ServiceListResponse'
      operationId: get-org-scoped-services
      parameters:
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/SearchTerm'
        - $ref: '#/components/parameters/ServiceIdentifiers'
        - $ref: '#/components/parameters/Sort'
        - schema:
            type: boolean
          in: query
          name: is_access_list
          description: Specifies whether the list is an access list. An access list is a list of services that you are permitted to use in a pipeline.
        - schema:
            type: string
            enum:
              - Kubernetes
              - NativeHelm
              - Ssh
              - WinRm
              - ServerlessAwsLambda
              - AzureWebApp
          name: type
          in: query
          description: Service Definition type
        - schema:
            type: boolean
          name: git_ops_enabled
          in: query
          description: Enables you to use the service in Harness GitOps PR pipelines.
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Order'
      security:
        - x-api-key: []
      description: Returns a list of the services for which you have view permissions in the given project.
      tags:
        - Org Services
    post:
      summary: Create a service
      operationId: create-org-scoped-service
      responses:
        '201':
          $ref: '#/components/responses/ServiceResponse'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      requestBody:
        $ref: '#/components/requestBodies/ServiceRequest'
      description: Creates a service
      security:
        - x-api-key: []
      tags:
        - Org Services
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
  '/v1/services/{service}':
    get:
      summary: Retrieve a service
      operationId: get-account-scoped-service
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      description: Retrieves the specified service
      security:
        - x-api-key: []
      responses:
        '200':
          $ref: '#/components/responses/ServiceResponse'
      tags:
        - Account Services
    parameters:
      - $ref: '#/components/parameters/ServicePathParam'
    put:
      summary: Update service
      operationId: update-account-scoped-service
      responses:
        '200':
          $ref: '#/components/responses/ServiceResponse'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      requestBody:
        $ref: '#/components/requestBodies/ServiceRequest'
      description: Updates the specified service
      security:
        - x-api-key: []
      tags:
        - Account Services
    delete:
      summary: Delete a service
      operationId: delete-account-scoped-service
      responses:
        '200':
          $ref: '#/components/responses/ServiceResponse'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/ForceDelete'
      description: Deletes the requested service
      security:
        - x-api-key: []
      tags:
        - Account Services
  /v1/services:
    get:
      summary: List services
      responses:
        '200':
          $ref: '#/components/responses/ServiceListResponse'
      operationId: get-account-scoped-services
      parameters:
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/SearchTerm'
        - $ref: '#/components/parameters/ServiceIdentifiers'
        - $ref: '#/components/parameters/Sort'
        - schema:
            type: boolean
          in: query
          name: is_access_list
          description: Specifies whether the list is an access list. An access list is a list of services that you are permitted to use in a pipeline.
        - schema:
            type: string
            enum:
              - Kubernetes
              - NativeHelm
              - Ssh
              - WinRm
              - ServerlessAwsLambda
              - AzureWebApp
          name: type
          in: query
          description: Service Definition type
        - schema:
            type: boolean
          name: git_ops_enabled
          in: query
          description: Enables you to use the service in Harness GitOps PR pipelines.
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Order'
      security:
        - x-api-key: []
      description: Returns a list of the services for which you have view permissions in the given project.
      tags:
        - Account Services
    post:
      summary: Create a service
      operationId: create-account-scoped-service
      responses:
        '201':
          $ref: '#/components/responses/ServiceResponse'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      requestBody:
        $ref: '#/components/requestBodies/ServiceRequest'
      description: Creates a service
      security:
        - x-api-key: []
      tags:
        - Account Services
    parameters: []
  /v1/orgs:
    post:
      summary: 'Create an organization [Beta]'
      operationId: create-organization
      responses:
        '201':
          $ref: '#/components/responses/OrganizationResponse'
      description: Creates a new organization.
      security:
        - x-api-key: []
      tags:
        - Organization
      requestBody:
        $ref: '#/components/requestBodies/CreateOrganizationRequest'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
    get:
      summary: 'List organizations [Beta]'
      operationId: get-organizations
      responses:
        '200':
          $ref: '#/components/responses/OrganizationListResponse'
      description: Retrieves the information of the organizations.
      security:
        - x-api-key: []
      tags:
        - Organization
      parameters:
        - $ref: '#/components/parameters/OrgsQueryParam'
        - $ref: '#/components/parameters/SearchTerm'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
    parameters: []
  '/v1/orgs/{org}':
    parameters:
      - schema:
          type: string
        name: org
        in: path
        required: true
        description: Organization identifier
    get:
      summary: 'Retrieve an organization [Beta]'
      responses:
        '200':
          $ref: '#/components/responses/OrganizationResponse'
      operationId: get-organization
      description: Retrieves the information of the organization with the matching organization identifier.
      security:
        - x-api-key: []
      tags:
        - Organization
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
    put:
      summary: 'Update an organization [Beta]'
      operationId: update-organization
      responses:
        '200':
          $ref: '#/components/responses/OrganizationResponse'
      description: Updates the information of the organization with the matching organization identifier.
      security:
        - x-api-key: []
      tags:
        - Organization
      requestBody:
        $ref: '#/components/requestBodies/UpdateOrganizationRequest'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
    delete:
      summary: 'Delete an organization [Beta]'
      operationId: delete-organization
      responses:
        '200':
          $ref: '#/components/responses/OrganizationResponse'
      description: Deletes the information of the organization with the matching organization identifier.
      security:
        - x-api-key: []
      tags:
        - Organization
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
  '/v1/orgs/{org}/projects':
    post:
      summary: Creates a project
      responses:
        '201':
          $ref: '#/components/responses/ProjectResponse'
      operationId: create-org-scoped-project
      security:
        - x-api-key: []
      description: Creates a new project
      requestBody:
        $ref: '#/components/requestBodies/CreateProjectRequest'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      tags:
        - Org Project
    get:
      summary: List projects
      responses:
        '200':
          $ref: '#/components/responses/ProjectListResponse'
      operationId: get-org-scoped-projects
      description: Retrieves the information of the projects.
      security:
        - x-api-key: []
      parameters:
        - $ref: '#/components/parameters/ProjectsQueryParam'
        - schema:
            type: boolean
            default: true
          in: query
          name: has_module
          description: This boolean specifies whether to filter projects which has the module of type passed in the moduleType parameter or not
        - schema:
            type: string
          in: query
          name: module_type
          description: Project's module type
        - $ref: '#/components/parameters/onlyFavorites'
        - $ref: '#/components/parameters/SearchTerm'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
      tags:
        - Org Project
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
  '/v1/orgs/{org}/projects/{project}':
    get:
      summary: Retrieve a project
      responses:
        '200':
          $ref: '#/components/responses/ProjectResponse'
      operationId: get-org-scoped-project
      description: Retrieves the information of the project with the matching project identifier.
      security:
        - x-api-key: []
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      tags:
        - Org Project
    put:
      summary: Update a project
      responses:
        '200':
          $ref: '#/components/responses/ProjectResponse'
      operationId: update-org-scoped-project
      description: Updates the information of the project with the matching project identifier.
      security:
        - x-api-key: []
      requestBody:
        $ref: '#/components/requestBodies/UpdateProjectRequest'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      tags:
        - Org Project
    delete:
      summary: Delete a project
      responses:
        '200':
          $ref: '#/components/responses/ProjectResponse'
      operationId: delete-org-scoped-project
      description: Deletes the information of the project with the matching project identifier.
      security:
        - x-api-key: []
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      tags:
        - Org Project
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ProjectPathParam'
  /v1/ip-allowlist:
    post:
      summary: Create a IP Allowlist config
      operationId: create-ip-allowlist-config
      responses:
        '201':
          $ref: '#/components/responses/IPAllowlistConfigResponse'
      description: Creates a new IP Allowlist config
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      requestBody:
        $ref: '#/components/requestBodies/IPAllowlistConfigRequest'
      tags:
        - IP Allowlist
      x-internal: false
    get:
      summary: List IP Allowlist Configs
      operationId: get-ip-allowlist-configs
      responses:
        '200':
          $ref: '#/components/responses/IPAllowlistConfigListResponse'
      description: Retrieves the information of the IP Allowlist Config
      parameters:
        - $ref: '#/components/parameters/SearchTerm'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
        - schema:
            type: string
          in: query
          description: This is to filter IP allowlist configs only blocked from UI or API
          name: allowed_source_type
      security:
        - x-api-key: []
      tags:
        - IP Allowlist
      x-internal: false
    parameters: []
  '/v1/ip-allowlist/{ip-config-identifier}':
    get:
      summary: Retrieve a IP Allowlist config
      operationId: get-ip-allowlist-config
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      description: Retrieves the specified IP Allowlist config
      security:
        - x-api-key: []
      responses:
        '200':
          $ref: '#/components/responses/IPAllowlistConfigResponse'
      tags:
        - IP Allowlist
      x-internal: false
    parameters:
      - schema:
          type: string
        name: ip-config-identifier
        in: path
        required: true
    put:
      summary: Update IP Allowlist config
      operationId: update-ip-allowlist-config
      responses:
        '200':
          $ref: '#/components/responses/IPAllowlistConfigResponse'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      requestBody:
        $ref: '#/components/requestBodies/IPAllowlistConfigRequest'
      description: Updates the specified IP Allowlist config
      security:
        - x-api-key: []
      tags:
        - IP Allowlist
      x-internal: false
    delete:
      summary: Delete an IP Allowlist config
      operationId: delete-ip-allowlist-config
      responses:
        '204':
          description: No Content
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      description: Deletes the specified IP Allowlist config
      security:
        - x-api-key: []
      tags:
        - IP Allowlist
      x-internal: false
  '/v1/ip-allowlist/validate-unique-identifier/{ip-config-identifier}':
    get:
      summary: Validate unique IP Allowlist config identifier
      operationId: validate-unique-ip-allowlist-config-identifier
      description: Checks whether the IP Allowlist config identifier is unique or not
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      tags:
        - IP Allowlist
      x-internal: false
      responses:
        '200':
          $ref: '#/components/responses/IPAllowlistValidateUniqueIdentifierResponse'
    parameters:
      - schema:
          type: string
        name: ip-config-identifier
        in: path
        required: true
  /v1/ip-allowlist/validate/ip-address:
    get:
      summary: Validate IP address lies in a specified range or not
      operationId: validate-ip-address-allowlisted-or-not
      responses:
        '200':
          $ref: '#/components/responses/IPAllowlistConfigValidateResponse'
      description: Checks whether the IP address is allowed or not. It also supports checking against a specific IP block range.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - schema:
            type: string
          in: query
          name: ip_address
          description: This is the IP address that needs to be checked if allowed or not
          required: true
        - schema:
            type: string
          in: query
          name: custom_ip_address_block
          description: This is the IP address or block of IP address against which we need to verify if a given IP address is allowed or not. If not passed we do the validation against the IP configs within Harness.
      security:
        - x-api-key: []
      tags:
        - IP Allowlist
      x-internal: false
    parameters: []
  /v1/secrets:
    post:
      summary: Create a secret
      operationId: create-account-scoped-secret
      responses:
        '201':
          $ref: '#/components/responses/SecretResponse'
      description: Creates a new secret
      parameters:
        - $ref: '#/components/parameters/PrivateSecret'
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      requestBody:
        $ref: '#/components/requestBodies/SecretRequest'
      tags:
        - Account Secret
    get:
      summary: List secrets
      operationId: get-account-scoped-secrets
      responses:
        '200':
          $ref: '#/components/responses/SecretListResponse'
      description: Retrieves the information of the secrets.
      parameters:
        - schema:
            type: array
            items:
              type: string
          in: query
          name: secret
          description: Identifier field of secrets
        - schema:
            type: array
            items:
              type: string
              enum:
                - SSHKeyPath
                - SSHKeyReference
                - SSHPassword
                - SSHKerberosTGTKeyTabFile
                - SSHKerberosTGTPassword
                - SecretFile
                - SecretText
                - WinRmTGTKeyTabFile
                - WinRmTGTPassword
                - WinRmNTLM
          in: query
          name: type
          description: Secret types on which the filter will be applied
        - schema:
            type: boolean
            default: false
          in: query
          name: recursive
          description: 'Expand current scope to include all child scopes '
        - $ref: '#/components/parameters/SearchTerm'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
      tags:
        - Account Secret
      security:
        - x-api-key: []
    parameters: []
  /v1/secrets/validate-secret-ref:
    post:
      summary: Validate secret reference
      operationId: validate-account-secret-ref
      description: Validates if the secret at the secretManager path can be referenced
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      tags:
        - Account Secret
      requestBody:
        $ref: '#/components/requestBodies/SecretValidationRequest'
      responses:
        '200':
          $ref: '#/components/responses/SecretValidationResponse'
    parameters: []
  '/v1/orgs/{org}/secrets':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
    post:
      summary: Create a secret
      operationId: create-org-scoped-secret
      responses:
        '201':
          $ref: '#/components/responses/SecretResponse'
      description: Creates a new secret
      requestBody:
        $ref: '#/components/requestBodies/SecretRequest'
      parameters:
        - $ref: '#/components/parameters/PrivateSecret'
        - $ref: '#/components/parameters/AccountHeader'
      tags:
        - Org Secret
      security:
        - x-api-key: []
    get:
      summary: List secrets
      operationId: get-org-scoped-secrets
      responses:
        '200':
          $ref: '#/components/responses/SecretListResponse'
      description: Retrieves the information of the secrets.
      parameters:
        - schema:
            type: array
            items:
              type: string
          in: query
          name: secret
          description: Identifier field of secrets
        - schema:
            type: array
            items:
              type: string
              enum:
                - SSHKeyPath
                - SSHKeyReference
                - SSHPassword
                - SSHKerberosTGTKeyTabFile
                - SSHKerberosTGTPassword
                - SecretFile
                - SecretText
                - WinRmTGTKeyTabFile
                - WinRmTGTPassword
                - WinRmNTLM
          in: query
          name: type
          description: Secret types on which the filter will be applied
        - schema:
            type: boolean
            default: false
          in: query
          name: recursive
          description: 'Expand current scope to include all child scopes '
        - $ref: '#/components/parameters/SearchTerm'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
      tags:
        - Org Secret
      security:
        - x-api-key: []
  '/v1/orgs/{org}/secrets/validate-secret-ref':
    post:
      summary: Validate secret reference
      operationId: validate-org-secret-ref
      description: Validates if the secret at the secretManager path can be referenced
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      requestBody:
        $ref: '#/components/requestBodies/SecretValidationRequest'
      responses:
        '200':
          $ref: '#/components/responses/SecretValidationResponse'
      tags:
        - Org Secret
    parameters:
      - schema:
          type: string
        name: org
        in: path
        required: true
        description: Identifier field of the organization the resource is scoped to
  '/v1/orgs/{org}/projects/{project}/secrets':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ProjectPathParam'
    post:
      summary: Create a secret
      operationId: create-project-scoped-secret
      responses:
        '201':
          $ref: '#/components/responses/SecretResponse'
      description: Creates a new secret
      requestBody:
        $ref: '#/components/requestBodies/SecretRequest'
      parameters:
        - $ref: '#/components/parameters/PrivateSecret'
        - $ref: '#/components/parameters/AccountHeader'
      tags:
        - Project Secret
      security:
        - x-api-key: []
    get:
      summary: List secrets
      operationId: get-project-scoped-secrets
      responses:
        '200':
          $ref: '#/components/responses/SecretListResponse'
      description: Retrieves the information of the secrets.
      parameters:
        - schema:
            type: array
            items:
              type: string
          in: query
          name: secret
          description: Identifier field of secrets
        - schema:
            type: array
            items:
              type: string
              enum:
                - SSHKeyPath
                - SSHKeyReference
                - SSHPassword
                - SSHKerberosTGTKeyTabFile
                - SSHKerberosTGTPassword
                - SecretFile
                - SecretText
                - WinRmTGTKeyTabFile
                - WinRmTGTPassword
                - WinRmNTLM
          in: query
          name: type
          description: Secret types on which the filter will be applied
        - schema:
            type: boolean
            default: false
          in: query
          name: recursive
          description: 'Expand current scope to include all child scopes '
        - $ref: '#/components/parameters/SearchTerm'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
      tags:
        - Project Secret
      security:
        - x-api-key: []
  '/v1/orgs/{org}/projects/{project}/secrets/validate-secret-ref':
    post:
      summary: Validate secret reference
      operationId: validate-project-secret-ref
      description: Validates if the secret at the secretManager path can be referenced
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      requestBody:
        $ref: '#/components/requestBodies/SecretValidationRequest'
      responses:
        '200':
          $ref: '#/components/responses/SecretValidationResponse'
      tags:
        - Project Secret
    parameters:
      - schema:
          type: string
        name: org
        in: path
        required: true
        description: Identifier field of the organization the resource is scoped to
      - schema:
          type: string
        name: project
        in: path
        required: true
        description: Identifier field of the project to which the resource is scoped.
  '/v1/secrets/{secret}':
    parameters:
      - schema:
          type: string
        name: secret
        in: path
        required: true
        description: Identifier field of the secret
    get:
      summary: Retrieve a secret
      responses:
        '200':
          $ref: '#/components/responses/SecretResponse'
      operationId: get-account-scoped-secret
      description: Retrieves the information of the secret.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      tags:
        - Account Secret
      security:
        - x-api-key: []
    delete:
      summary: Deletes a secret
      tags:
        - Account Secret
      operationId: delete-account-scoped-secret
      responses:
        '200':
          $ref: '#/components/responses/SecretResponse'
      description: Deletes the information of the secret with the matching secret identifier.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
    put:
      summary: Update a secret
      operationId: update-account-scoped-secret
      responses:
        '200':
          $ref: '#/components/responses/SecretResponse'
      description: Updates the information of the secret with the matching secret identifier.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      tags:
        - Account Secret
      requestBody:
        $ref: '#/components/requestBodies/SecretRequest'
      security:
        - x-api-key: []
  '/v1/orgs/{org}/secrets/{secret}':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - schema:
          type: string
        name: secret
        in: path
        required: true
        description: Identifier field of the secret
    get:
      summary: Retrieve a secret
      tags:
        - Org Secret
      responses:
        '200':
          $ref: '#/components/responses/SecretResponse'
      operationId: get-org-scoped-secret
      description: Retrieves the information of the secret.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
    delete:
      summary: Delete a secret
      tags:
        - Org Secret
      operationId: delete-org-scoped-secret
      responses:
        '200':
          $ref: '#/components/responses/SecretResponse'
      description: Deletes the information of the secret with the matching secret identifier.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
    put:
      summary: Update a secret
      operationId: update-org-scoped-secret
      responses:
        '200':
          $ref: '#/components/responses/SecretResponse'
      description: Updates the information of the secret with the matching secret identifier.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      requestBody:
        $ref: '#/components/requestBodies/SecretRequest'
      tags:
        - Org Secret
      security:
        - x-api-key: []
  '/v1/orgs/{org}/projects/{project}/secrets/{secret}':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ProjectPathParam'
      - schema:
          type: string
        name: secret
        in: path
        required: true
        description: Identifier field of the secret
    get:
      summary: Retrieve a secret
      tags:
        - Project Secret
      responses:
        '200':
          $ref: '#/components/responses/SecretResponse'
      operationId: get-project-scoped-secret
      description: Retrieves the information of the secret.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
    delete:
      summary: Delete a secret
      tags:
        - Project Secret
      operationId: delete-project-scoped-secret
      responses:
        '200':
          $ref: '#/components/responses/SecretResponse'
      description: Deletes the information of the secret with the matching secret identifier.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
    put:
      summary: Update a secret
      operationId: update-project-scoped-secret
      responses:
        '200':
          $ref: '#/components/responses/SecretResponse'
      description: Updates the information of the secret with the matching secret identifier.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      requestBody:
        $ref: '#/components/requestBodies/SecretRequest'
      tags:
        - Project Secret
      security:
        - x-api-key: []
  /v1/favorites:
    post:
      summary: Create a favorite at account level
      operationId: create-account-favorite
      description: Creates favorite resource of a user at account level
      requestBody:
        $ref: '#/components/requestBodies/FavoriteRequest'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      responses:
        '201':
          $ref: '#/components/responses/FavoriteResponse'
      tags:
        - Account Favorites
      x-internal: true
  '/v1/favorites/{user-id}':
    parameters:
      - $ref: '#/components/parameters/UserIdPathParam'
    get:
      summary: Retrieve a favorite resources of a user at account level
      operationId: get-account-favorites
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/ResourceType'
      description: Retrieves the favorite resource of a user at account level
      security:
        - x-api-key: []
      responses:
        '200':
          $ref: '#/components/responses/FavoriteListResponse'
      tags:
        - Account Favorites
      x-internal: true
    delete:
      summary: Delete a account level favorite
      operationId: delete-account-favorite
      responses:
        '204':
          description: No Content
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/ResourceType'
        - $ref: '#/components/parameters/ResourceId'
      security:
        - x-api-key: []
      tags:
        - Account Favorites
      description: Deletes the requested favorite at account level.
      x-internal: true
  '/v1/orgs/{org}/favorites':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
    post:
      summary: Create a favorite at org level
      operationId: create-org-favorite
      description: Creates favorite resource of a user at organisation level
      requestBody:
        $ref: '#/components/requestBodies/FavoriteRequest'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      responses:
        '201':
          $ref: '#/components/responses/FavoriteResponse'
      tags:
        - Org Favorites
      x-internal: true
  '/v1/orgs/{org}/favorites/{user-id}':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/UserIdPathParam'
    get:
      summary: Retrieve a favorite resources of a user at organization level
      operationId: get-org-favorites
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/ResourceType'
      description: Retrieves the favorite resource of a user at organization level
      security:
        - x-api-key: []
      responses:
        '200':
          $ref: '#/components/responses/FavoriteListResponse'
      tags:
        - Org Favorites
      x-internal: true
    delete:
      summary: Delete a org level favorite
      operationId: delete-org-favorite
      responses:
        '204':
          description: No Content
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/ResourceType'
        - $ref: '#/components/parameters/ResourceId'
      description: Deletes the requested favorite at organization level.
      security:
        - x-api-key: []
      tags:
        - Org Favorites
      x-internal: true
  '/v1/orgs/{org}/projects/{project}/favorites':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ProjectPathParam'
    post:
      summary: Create a favorite at project level
      operationId: create-project-favorite
      description: Creates favorite resource of a user at project level
      requestBody:
        $ref: '#/components/requestBodies/FavoriteRequest'
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      responses:
        '201':
          $ref: '#/components/responses/FavoriteResponse'
      tags:
        - Project Favorites
      x-internal: true
  '/v1/orgs/{org}/projects/{project}/favorites/{user-id}':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ProjectPathParam'
      - $ref: '#/components/parameters/UserIdPathParam'
    get:
      summary: Retrieve a favorite resources of a user at project level
      operationId: get-project-favorites
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/ResourceType'
      description: Retrieves the favorite resource of a user at project level
      security:
        - x-api-key: []
      responses:
        '200':
          $ref: '#/components/responses/FavoriteListResponse'
      tags:
        - Project Favorites
      x-internal: true
    delete:
      summary: Delete a project level favorite
      operationId: delete-project-favorite
      responses:
        '204':
          description: No Content
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/ResourceType'
        - $ref: '#/components/parameters/ResourceId'
      description: Deletes the requested favorite at project level.
      security:
        - x-api-key: []
      tags:
        - Project Favorites
      x-internal: true
  /v1/module-versions:
    get:
      summary: List Module Versions
      tags:
        - Module Versions
      responses:
        '200':
          $ref: '#/components/responses/ModuleVersionsListResponse'
      operationId: list-module-versions
      description: Lists Versions of different Modules.
      security:
        - x-api-key: []
      parameters:
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
      x-internal: true
  '/v1/rancher/connectors/{connector}/clusters':
    parameters:
      - $ref: '#/components/parameters/ConnectorPathParam'
    get:
      summary: List rancher clusters using account level connector
      tags:
        - Account Rancher Infrastructure
      responses:
        '200':
          $ref: '#/components/responses/RancherListClustersResponse'
      operationId: list-account-scoped-rancher-clusters-using-connector
      description: List rancher clusters using the given account level rancher connector
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
      security:
        - x-api-key: []
  '/v1/orgs/{org}/rancher/connectors/{connector}/clusters':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ConnectorPathParam'
    get:
      summary: List rancher clusters using org level connector
      tags:
        - Org Rancher Infrastructure
      responses:
        '200':
          $ref: '#/components/responses/RancherListClustersResponse'
      operationId: list-org-scoped-rancher-clusters-using-connector
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
      security:
        - x-api-key: []
      description: List rancher clusters using the given org level rancher connector
  '/v1/orgs/{org}/projects/{project}/rancher/connectors/{connector}/clusters':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ProjectPathParam'
      - $ref: '#/components/parameters/ConnectorPathParam'
    get:
      summary: List rancher clusters using project level connector
      tags:
        - Project Rancher Infrastructure
      responses:
        '200':
          $ref: '#/components/responses/RancherListClustersResponse'
      operationId: list-project-scoped-rancher-clusters-using-connector
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
      security:
        - x-api-key: []
      description: List rancher clusters using the given project level rancher connector
  '/v1/rancher/environments/{environment}/infrastructure-definitions/{infrastructure-definition}/clusters':
    parameters:
      - $ref: '#/components/parameters/EnvironmentPathParam'
      - $ref: '#/components/parameters/InfrastructureDefinitionPathParam'
    get:
      summary: List rancher clusters using account level env and infra def
      tags:
        - Account Rancher Infrastructure
      responses:
        '200':
          $ref: '#/components/responses/RancherListClustersResponse'
      operationId: list-account-scoped-rancher-clusters-using-env-and-infra
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
      security:
        - x-api-key: []
      description: List rancher clusters using the given account level environment and infrastructure definition.
  '/v1/orgs/{org}/rancher/environments/{environment}/infrastructure-definitions/{infrastructure-definition}/clusters':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/EnvironmentPathParam'
      - $ref: '#/components/parameters/InfrastructureDefinitionPathParam'
    get:
      summary: List rancher clusters using org level env and infra def
      tags:
        - Org Rancher Infrastructure
      responses:
        '200':
          $ref: '#/components/responses/RancherListClustersResponse'
      operationId: list-org-scoped-rancher-clusters-using-env-and-infra
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
      security:
        - x-api-key: []
      description: List rancher clusters using the given org level environment and infrastructure definition.
  '/v1/orgs/{org}/projects/{project}/rancher/environments/{environment}/infrastructure-definitions/{infrastructure-definition}/clusters':
    parameters:
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ProjectPathParam'
      - $ref: '#/components/parameters/EnvironmentPathParam'
      - $ref: '#/components/parameters/InfrastructureDefinitionPathParam'
    get:
      summary: List rancher clusters using project level env and infra def
      tags:
        - Project Rancher Infrastructure
      responses:
        '200':
          $ref: '#/components/responses/RancherListClustersResponse'
      operationId: list-project-scoped-rancher-clusters-using-env-and-infra
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - $ref: '#/components/parameters/Sort'
        - $ref: '#/components/parameters/Order'
      security:
        - x-api-key: []
      description: List rancher clusters using the given project level environment and infrastructure definition.
  '/v1/orgs/{org}/projects/{project}/services/{service}/primary-manifests':
    parameters:
      - $ref: '#/components/parameters/ServicePathParam'
      - $ref: '#/components/parameters/OrgPathParam'
      - $ref: '#/components/parameters/ProjectPathParam'
    get:
      summary: List primary manifests of a project scoped service
      responses:
        '200':
          $ref: '#/components/responses/ManifestsResponseDTO'
      operationId: get-primary-manifests
      description: Returns a list of eligible primary manifests from all configured manifest in a project-scoped service.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      tags:
        - Project Services
  '/v1/orgs/{org}/services/{service}/primary-manifests':
    parameters:
      - $ref: '#/components/parameters/ServicePathParam'
      - $ref: '#/components/parameters/OrgPathParam'
    get:
      summary: List primary manifests of a org scoped service
      responses:
        '200':
          $ref: '#/components/responses/ManifestsResponseDTO'
      operationId: get-org-scoped-primary-manifests
      description: Returns a list of eligible primary manifests from all configured manifest in an org-scoped service.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      tags:
        - Org Services
  '/v1/services/{service}/primary-manifests':
    parameters:
      - $ref: '#/components/parameters/ServicePathParam'
    get:
      summary: List primary manifests of a account scoped service
      responses:
        '200':
          $ref: '#/components/responses/ManifestsResponseDTO'
      operationId: get-account-scoped-primary-manifests
      description: Returns a list of eligible primary manifests from all configured manifest in an account-scoped service.
      parameters:
        - $ref: '#/components/parameters/AccountHeader'
      security:
        - x-api-key: []
      tags:
        - Account Services
components:
  schemas:
    Service:
      type: object
      x-examples:
        example-1:
          account: sample_account
          identifier: example_service
          org: sample_organization
          project: sample_project
          name: Example_service
          description: This is a example service
          tags:
            example-tag-1: example-tag-1-value
            example-tag-2: example-tag-2-value
          yaml: |
            service:
              name: "Example_service"
              identifier: "example_service"
              tags: {}
      description: This is the Service entity defined in Harness
      title: Service
      properties:
        account:
          type: string
          description: Account Identifier
          pattern: '^[a-zA-Z_][0-9a-zA-Z-_]{0,127}$'
          minLength: 1
          maxLength: 128
        identifier:
          type: string
          description: Identifier of the Service Request.
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          minLength: 1
          maxLength: 128
        org:
          type: string
          description: Organization Identifier for the Entity.
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          minLength: 1
          maxLength: 128
        project:
          type: string
          description: Project Identifier for the Entity.
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          minLength: 1
          maxLength: 128
        name:
          type: string
          description: Name of the Service Request.
          pattern: '^[a-zA-Z_][0-9a-zA-Z-_ ]{0,127}$'
          minLength: 1
          maxLength: 128
        description:
          type: string
          description: Description of the entity
          maxLength: 1024
        tags:
          type: object
          additionalProperties:
            type: string
          description: Service tags
          maxProperties: 128
        yaml:
          type: string
          description: Yaml related to service
      required:
        - identifier
        - name
    FavoriteDTO:
      type: object
      x-examples:
        example-1:
          org: sample_organization
          project: sample_project
          user_id: example_userId
          module: example_module
          resource_type: example_resourceType
          resource_id: example_resourceId
      description: This is the favorite entity defined in Harness
      title: FavoriteDTO
      properties:
        org:
          type: string
          description: Organization Identifier for the Entity.
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          minLength: 1
          maxLength: 128
        project:
          type: string
          description: Project Identifier for the Entity.
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          minLength: 1
          maxLength: 128
        user_id:
          type: string
          description: Identifier of the user.
          minLength: 1
          maxLength: 128
        module:
          $ref: '#/components/schemas/ModuleType'
        resource_type:
          $ref: '#/components/schemas/FavoritesResourceType'
          description: Type of resource
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          minLength: 1
          maxLength: 128
        resource_id:
          type: string
          description: Resource Identifier of the Entity.
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          minLength: 1
          maxLength: 128
    FavoriteResponse:
      type: object
      x-examples:
        example-1:
          FavoriteDTO:
            user_id: example_userId
            org: sample_organization
            project: sample_project
            resource_type: Example_resourceType
            resource_id: This is a example resource
          created: 1234567890
      title: FavoriteResponse
      properties:
        Favorite:
          $ref: '#/components/schemas/FavoriteDTO'
        created:
          type: integer
          format: int64
          description: Creation timestamp for favorite.
    ServiceResponse:
      type: object
      x-examples:
        example-1:
          service:
            account: sample_account
            identifier: example_service
            org: sample_organization
            project: sample_project
            name: Example_service
            description: This is a example service
            tags:
              example-tag-1: example-tag-1-value
              example-tag-2: example-tag-2-value
            yaml: |
              service:
                name: "Example_service"
                identifier: "example_service"
                tags: {}
          created: 1234567890
          updated: 1234567890
      description: Default response when a service is returned
      title: ServiceResponse
      properties:
        service:
          $ref: '#/components/schemas/Service'
        created:
          type: integer
          format: int64
          description: Creation timestamp for Service.
        updated:
          type: integer
          format: int64
          description: Last modification timestamp for Service.
    ServiceRequest:
      type: object
      x-examples:
        example-1:
          identifier: example_service
          name: Example_service
          description: This is a example service
          tags:
            example-tag-1: example-tag-1-value
            example-tag-2: example-tag-2-value
          yaml: |
            service:
              name: "Example_service"
              identifier: "example_service"
              tags: {}
      title: ServiceRequest
      description: 'Service Request Body '
      properties:
        identifier:
          type: string
          description: Identifier of the Service
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          minLength: 1
          maxLength: 128
        name:
          type: string
          description: Name of the Service
          pattern: '^[a-zA-Z_][0-9a-zA-Z-_ ]{0,127}$'
          minLength: 1
          maxLength: 128
        description:
          type: string
          description: Description of the entity
          maxLength: 1024
        tags:
          type: object
          additionalProperties:
            type: string
          description: Service tags
          maxProperties: 128
        yaml:
          type: string
          description: YAML for the Service Request
      required:
        - identifier
        - name
    CreateOrganizationRequest:
      type: object
      properties:
        org:
          $ref: '#/components/schemas/Organization'
      required:
        - org
    Organization:
      description: Organization model
      type: object
      properties:
        identifier:
          type: string
          minLength: 1
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          description: Organization identifier
          maxLength: 128
        name:
          type: string
          minLength: 1
          pattern: '^[a-zA-Z_][0-9a-zA-Z-_ ]{0,127}$'
          description: Organization name
          maxLength: 128
        description:
          type: string
          maxLength: 1024
          description: Organization description
        tags:
          type: object
          additionalProperties:
            type: string
          maxProperties: 128
          description: Organization tags
      required:
        - identifier
        - name
    ModuleType:
      type: string
      description: Type of Modules
      enum:
        - CD
        - CI
        - CV
        - CF
        - CE
        - STO
        - CORE
        - PMS
        - TEMPLATESERVICE
        - GOVERNANCE
        - CHAOS
        - CET
    FavoritesResourceType:
      type: string
      enum:
        - CONNECTOR
        - DELEGATE
        - PIPELINE
        - SECRET
        - PROJECT
    CreateProjectRequest:
      description: Create project request
      type: object
      properties:
        project:
          $ref: '#/components/schemas/Project'
      required:
        - project
    Project:
      description: Project model
      type: object
      x-examples:
        example-1:
          identifier: example_project_identifier
          name: example-project-name
          color: '#0063F7'
          modules:
            - CD
          description: This is a example project
          tags:
            property1: value1
            property2: value2
      properties:
        identifier:
          type: string
          minLength: 1
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          description: Project identifier
          maxLength: 128
        name:
          type: string
          minLength: 1
          pattern: '^[a-zA-Z_][0-9a-zA-Z-_ ]{0,127}$'
          description: Project name
          maxLength: 128
        org:
          type: string
          description: Organization identifier for the project
        color:
          type: string
          description: Project color
        modules:
          type: array
          maxItems: 1024
          description: List of modules for project
          items:
            $ref: '#/components/schemas/ModuleType'
        description:
          type: string
          maxLength: 1024
          description: Project description
        tags:
          type: object
          additionalProperties:
            type: string
          maxProperties: 128
          description: Project tags
      required:
        - identifier
        - name
    ProjectResponse:
      description: Project response model
      type: object
      properties:
        project:
          $ref: '#/components/schemas/Project'
        created:
          type: integer
          format: int64
          description: Creation timestamp for the project
        updated:
          type: integer
          format: int64
          description: Updated timestamp for the project
        isFavorite:
          type: boolean
          description: True if its your favorite project
    OrganizationResponse:
      title: OrganizationResponse
      type: object
      description: Organization response Model
      x-examples:
        example-1:
          org:
            identifier: example_organization
            name: Example Organization
            description: This is an Example Organization
            tags:
              example-tag-1: example-tag-1-value
              example-tag-2: example-tag-2-value
          created: 1234567890
          updated: 1234567890
          harness_managed: true
      properties:
        org:
          $ref: '#/components/schemas/Organization'
        created:
          type: integer
          description: Creation timestamp for organization
          format: int64
        updated:
          type: integer
          format: int64
          description: Updated timestamp for organization
        harness_managed:
          type: boolean
          description: 'This indicates if this organization is managed by Harness or not. If true, Harness can manage and modify this organization.'
    UpdateOrganizationRequest:
      description: Update oganization request
      type: object
      properties:
        org:
          $ref: '#/components/schemas/Organization'
      required:
        - org
    UpdateProjectRequest:
      description: Update project request
      type: object
      properties:
        project:
          $ref: '#/components/schemas/Project'
      required:
        - project
    SecretSpec:
      title: SecretSpec
      type: object
      description: Details of the secret defined in Harness
      required:
        - type
      discriminator:
        propertyName: type
        mapping:
          SSHKeyPath: '#/components/schemas/SSHKeyPathSpec'
          SSHKeyReference: '#/components/schemas/SSHKeyReferenceSpec'
          SSHPassword: '#/components/schemas/SSHPasswordSpec'
          SSHKerberosTGTKeyTabFile: '#/components/schemas/SSHKerberosTGTKeyTabFileSpec'
          SSHKerberosTGTPassword: '#/components/schemas/SSHKerberosTGTPasswordSpec'
          SecretFile: '#/components/schemas/SecretFileSpec'
          SecretText: '#/components/schemas/SecretTextSpec'
          WinRmTGTKeyTabFile: '#/components/schemas/WinRmTGTKeyTabFileSpec'
          WinRmTGTPassword: '#/components/schemas/WinRmTGTPasswordSpec'
          WinRmNTLM: '#/components/schemas/WinRmNTLMSpec'
      properties:
        type:
          type: string
          enum:
            - SSHKeyPath
            - SSHKeyReference
            - SSHPassword
            - SSHKerberosTGTKeyTabFile
            - SSHKerberosTGTPassword
            - SecretFile
            - SecretText
            - WinRmTGTKeyTabFile
            - WinRmTGTPassword
            - WinRmNTLM
          description: This specifies the type of secret
    SSHKeyPathSpec:
      title: SSHKeyPath
      x-discriminator-value: SSHKeyPath
      description: This is the SSH key authentication details defined in Harness.
      allOf:
        - $ref: '#/components/schemas/SecretSpec'
        - type: object
          properties:
            type:
              type: string
              enum:
                - SSHKeyPath
              description: This specifies the type of secret
            port:
              type: integer
              format: int32
              description: SSH port
            username:
              type: string
              description: SSH username
            key_path:
              type: string
              description: Path of the key file
            encrypted_passphrase:
              type: string
              description: This is the passphrase provided while creating the SSH key for local encryption
          required:
            - type
            - username
            - key_path
    SSHKeyReferenceSpec:
      title: SSHKeyReference
      x-discriminator-value: SSHKeyReference
      description: This is the SSH key authentication details defined in Harness.
      allOf:
        - $ref: '#/components/schemas/SecretSpec'
        - type: object
          properties:
            type:
              type: string
              enum:
                - SSHKeyReference
              description: This specifies the type of secret
            port:
              type: integer
              format: int32
              description: SSH port
            username:
              type: string
              description: SSH username
            key:
              type: string
              description: SSH key
            encrypted_passphrase:
              type: string
              description: This is the passphrase provided while creating the SSH key for local encryption
          required:
            - type
            - username
    SSHPasswordSpec:
      title: SSHPassword
      x-discriminator-value: SSHPassword
      description: This is the SSH key authentication details defined in Harness.
      allOf:
        - $ref: '#/components/schemas/SecretSpec'
        - type: object
          properties:
            type:
              type: string
              enum:
                - SSHPassword
              description: This specifies the type of secret
            port:
              type: integer
              format: int32
              description: SSH port
            username:
              type: string
              description: SSH username
            password:
              type: string
              description: SSH password
          required:
            - type
            - username
            - password
    SSHKerberosTGTKeyTabFileSpec:
      title: SSHKerberosTGTKeyTabFile
      x-discriminator-value: SSHKerberosTGTKeyTabFile
      description: This is the SSH key authentication details defined in Harness.
      allOf:
        - $ref: '#/components/schemas/SecretSpec'
        - type: object
          properties:
            type:
              type: string
              enum:
                - SSHKerberosTGTKeyTabFile
              description: This specifies the type of secret
            port:
              type: integer
              format: int32
              description: SSH port
            principal:
              type: string
              description: Kerberos principal
            realm:
              type: string
              description: Kerberos realm
            key_path:
              type: string
              description: Kerberos keytab file path
          required:
            - type
    SSHKerberosTGTPasswordSpec:
      title: SSHKerberosTGTPassword
      x-discriminator-value: SSHKerberosTGTPassword
      description: This is the SSH key authentication details defined in Harness.
      allOf:
        - $ref: '#/components/schemas/SecretSpec'
        - type: object
          properties:
            type:
              type: string
              enum:
                - SSHKerberosTGTPassword
              description: This specifies the type of secret
            port:
              type: integer
              format: int32
              description: SSH port
            principal:
              type: string
              description: Kerberos principal
            realm:
              type: string
              description: Kerberos realm
            password:
              type: string
              description: Kerberos password
          required:
            - type
    SecretFileSpec:
      title: SecretFile
      x-discriminator-value: SecretFile
      description: This is the SSH key authentication details defined in Harness.
      allOf:
        - $ref: '#/components/schemas/SecretSpec'
        - type: object
          properties:
            type:
              type: string
              enum:
                - SecretFile
              description: This specifies the type of secret
            secret_manager_identifier:
              type: string
              description: Identifier of the secret manager used to manage the secret
          required:
            - type
            - secret_manager_identifier
    SecretTextSpec:
      title: SecretText
      x-discriminator-value: SecretText
      description: This is the SSH key authentication details defined in Harness.
      allOf:
        - $ref: '#/components/schemas/SecretSpec'
        - type: object
          properties:
            type:
              type: string
              enum:
                - SecretText
              description: This specifies the type of secret
            secret_manager_identifier:
              type: string
              description: Identifier of the secret manager used to manage the secret
            value_type:
              type: string
              enum:
                - Inline
                - Reference
              description: This has details to specify if the secret value is inline or referenced
            value:
              type: string
              description: Value of the Secret
            additional_metadata:
              type: object
              properties:
                values:
                  type: object
              description: Additional metadata of the secret if any exist
          required:
            - type
            - secret_manager_identifier
            - value_type
    WinRmTGTKeyTabFileSpec:
      title: WinRmTGTKeyTabFile
      x-discriminator-value: WinRmTGTKeyTabFile
      description: This is the SSH key authentication details defined in Harness.
      allOf:
        - $ref: '#/components/schemas/SecretSpec'
        - type: object
          properties:
            type:
              type: string
              enum:
                - WinRmTGTKeyTabFile
              description: This specifies the type of secret
            port:
              type: integer
              format: int32
              default: 5986
              description: WinRm port
            principal:
              type: string
              description: Kerberos principal
            realm:
              type: string
              description: Kerberos realm
            key_path:
              type: string
              description: Keytab file path
            use_ssl:
              type: boolean
              default: true
              description: This is the Kerberos either to use SSL/https
            skip_cert_checks:
              type: boolean
              default: true
              description: This is the Kerberos either to skip certificate checks
            use_no_profile:
              type: boolean
              description: This is the Kerberos powershell runs without loading profile
          required:
            - type
    WinRmTGTPasswordSpec:
      title: WinRmTGTPassword
      x-discriminator-value: WinRmTGTPassword
      description: This is the SSH key authentication details defined in Harness.
      allOf:
        - $ref: '#/components/schemas/SecretSpec'
        - type: object
          properties:
            type:
              type: string
              enum:
                - WinRmTGTPassword
              description: This specifies the type of secret
            port:
              type: integer
              format: int32
              default: 5986
              description: WinRm port
            principal:
              type: string
              description: Kerberos principal
            realm:
              type: string
              description: Kerberos realm
            password:
              type: string
              description: Kerberos password
            use_ssl:
              type: boolean
              default: true
              description: This is the Kerberos either to use SSL/https
            skip_cert_checks:
              type: boolean
              default: true
              description: This is the Kerberos either to skip certificate checks
            use_no_profile:
              type: boolean
              description: This is the Kerberos powershell runs without loading profile
          required:
            - type
    WinRmNTLMSpec:
      title: WinRmNTLM
      x-discriminator-value: WinRmNTLM
      description: This is the SSH key authentication details defined in Harness.
      allOf:
        - $ref: '#/components/schemas/SecretSpec'
        - type: object
          properties:
            type:
              type: string
              enum:
                - WinRmNTLM
              description: This specifies the type of secret
            port:
              type: integer
              format: int32
              default: 5986
              description: WinRm port
            domain:
              type: string
              description: This is the NTLM domain name
            username:
              type: string
              description: This is the NTLM user name
            password:
              type: string
              description: This is the NTLM password
            use_ssl:
              type: boolean
              default: true
              description: This is the NTLM either to use SSL/https
            skip_cert_checks:
              type: boolean
              default: true
              description: This is the Kerberos either to skip certificate checks
            use_no_profile:
              type: boolean
              description: This is the Kerberos powershell runs without loading profile
          required:
            - type
            - domain
            - username
            - password
    SecretRequest:
      type: object
      properties:
        secret:
          $ref: '#/components/schemas/Secret'
      required:
        - secret
    Secret:
      type: object
      properties:
        name:
          type: string
          description: Secret name
          pattern: '^[0-9a-zA-Z-_ ]{0,127}$'
        identifier:
          type: string
          minLength: 1
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          description: Secret identifier
          maxLength: 128
        org:
          type: string
          description: Organization identifier for secret
          pattern: '^[a-zA-Z_][0-9a-zA-Z-_ ]{0,127}$'
        project:
          type: string
          description: Project identifier for secret
          pattern: '^[a-zA-Z_][0-9a-zA-Z-_ ]{0,127}$'
        tags:
          type: object
          additionalProperties:
            type: string
          description: Secret tags
        description:
          type: string
          description: Secret description
        spec:
          $ref: '#/components/schemas/SecretSpec'
      required:
        - name
        - identifier
        - spec
    SecretResponse:
      title: SecretResponse
      type: object
      properties:
        secret:
          $ref: '#/components/schemas/Secret'
        created:
          type: integer
          format: int64
          description: Creation timestamp for the secret
        updated:
          type: integer
          format: int64
          description: Updated timestamp for the secret
        draft:
          type: boolean
        governance_metadata:
          type: object
          description: Governance metadata information
      description: Secret response model
    ModuleVersionsResponse:
      title: Module Versions Response Body
      type: object
      description: Module Versions Response Body
      properties:
        name:
          type: string
          description: Module name
        version:
          type: string
          description: Module version
        display_name:
          type: string
          description: Module display name
        updated:
          type: string
          description: Module updated at
        version_url:
          type: string
          description: Module version URL
        release_notes_link:
          type: string
          description: Module Release Notes link
        microservices_version_info:
          type: array
          items:
            $ref: '#/components/schemas/MicroserviceVersionInfo'
    MicroserviceVersionInfo:
      title: Microservice Version Info
      x-stoplight:
        id: 949355wt5fcyx
      type: object
      properties:
        name:
          type: string
          description: Microservices name
        version:
          type: string
          description: Microservices version URL
        version_url:
          type: string
          description: Microservices version
      description: Microservice Version Info
    SecretValidationMetadata:
      title: SecretValidationMetadata
      type: object
      description: Details of the secret reference
      properties:
        secret_manager_identifier:
          type: string
          description: Identifier of the secretManager
        secret_ref_path:
          type: string
          description: Path to the secret present which needs to be referenced.
      required:
        - secretManagerIdentifer
        - secretRefPath
    SecretValidationResponse:
      title: SecretValidationResponse
      type: object
      description: Response of the secret reference validation
      properties:
        success:
          type: boolean
        message:
          type: string
          description: Secret reference path validation result
    IPAllowlistConfig:
      title: IPAllowlistConfig
      x-stoplight:
        id: v6ozn5wcwdwhg
      type: object
      description: This contains data for a config set in Harness to allow selected IPs
      properties:
        name:
          type: string
          description: Name of the IP Config defined in Harness
          pattern: '^[0-9a-zA-Z-_ ]{0,127}$'
          minLength: 1
          maxLength: 128
        identifier:
          type: string
          description: Identifier of the IP Config
          pattern: '^[a-zA-Z_][0-9a-zA-Z_$]{0,127}$'
          minLength: 1
          maxLength: 128
        description:
          type: string
          description: Description of the entity
        enabled:
          type: boolean
          default: false
          description: 'If true, it will allow all the IPs that are part of the config and block others.'
        tags:
          type: object
          additionalProperties:
            type: string
          description: IP Allowlist tags
          maxProperties: 128
        allowed_source_type:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/AllowedSourceType'
        ip_address:
          type: string
      required:
        - name
        - identifier
        - ip_address
    AllowedSourceType:
      title: AllowedSourceType
      x-stoplight:
        id: z6z1v0ym6pp0n
      type: string
      enum:
        - UI
        - API
      description: This denotes source from which IPs are allowed.
    IPAllowlistConfigRequest:
      title: IPAllowlistConfigRequest
      x-stoplight:
        id: xgbzir9wm0meq
      type: object
      description: This is the request spec to create IP Allowlist config in Harness
      properties:
        ip_allowlist_config:
          $ref: '#/components/schemas/IPAllowlistConfig'
    IPAllowlistConfigResponse:
      title: IPAllowlistConfigResponse
      x-stoplight:
        id: ykl8b62ijl5wt
      type: object
      properties:
        ip_allowlist_config:
          $ref: '#/components/schemas/IPAllowlistConfig'
        created:
          type: integer
          format: int64
          description: Creation timestamp for the IP Allowlist config.
        updated:
          type: integer
          format: int64
          description: Last modification timestamp for IP Allowlist config.
      required:
        - ip_allowlist_config
        - created
        - updated
    IPAllowlistConfigValidateResponse:
      title: IPAllowlistConfigValidateResponse
      x-stoplight:
        id: ll7dxdbr3e2yg
      type: object
      properties:
        allowed_for_custom_block:
          type: boolean
          description: This indicates if given IP Address lies in range of custome IP block or not.
        allowlisted_configs:
          type: array
          description: |
            This is the list of IP configs configured in Harness from which IP address is allowed. This is empty in case of custom IP address block.
          items:
            $ref: '#/components/schemas/IPAllowlistConfigResponse'
        allowed_for_ui:
          type: boolean
          description: This indicates if a given IP is allowlisted in Harness for UI requests
        allowed_for_api:
          type: boolean
          description: This indicates if a given IP is allowlisted in Harness for API requests
    ManifestsResponseDTO:
      title: ManifestsResponseDTO
      type: object
      properties:
        identifiers:
          type: array
          description: List of Manifest Identifiers
          items:
            type: string
      description: ManifestsResponseDTO returns a list of manifest identifiers from a service's eligible primary manifests.
      x-internal: false
      x-examples:
        Example 1:
          identifiers:
            - id1
            - id2
  securitySchemes:
    x-api-key:
      name: x-api-key
      type: apiKey
      in: header
  responses:
    ServiceListResponse:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ServiceResponse'
          examples:
            example-1:
              value:
                - service:
                    account: sample_account
                    identifier: example_service
                    org: sample_organization
                    project: sample_project
                    name: Example_service
                    description: This is a example service
                    tags:
                      example-tag-1: example-tag-1-value
                      example-tag-2: example-tag-2-value
                    yaml: |
                      service:
                        name: "Example_service"
                        identifier: "example_service"
                        tags: {}
                  created: 1234567890
                  updated: 1234567890
        application/yaml:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ServiceResponse'
          examples:
            example-1:
              value: |
                - service:
                    account: sample_account
                    identifier: example_service
                    org: sample_organization
                    project: sample_project
                    name: Example_service
                    description: This is a example service
                    tags:
                      example-tag-1: example-tag-1-value
                      example-tag-2: example-tag-2-value
                    yaml: |
                      service:
                        name: "Example_service"
                        identifier: "example_service"
                        tags: {}
                  created: 1234567890
                  updated: 1234567890
      headers:
        X-Total-Elements:
          schema:
            type: integer
          description: Total number of elements returned in Paginated response.
        X-Page-Number:
          schema:
            type: integer
          description: Page number in Paginated response.
        X-Page-Size:
          schema:
            type: integer
          description: Maximum page size in Paginated response.
    ServiceResponse:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ServiceResponse'
          examples:
            example-1:
              value:
                service:
                  account: sample_account
                  identifier: example_service
                  org: sample_organization
                  project: sample_project
                  name: Example_service
                  description: This is a example service
                  tags:
                    example-tag-1: example-tag-1-value
                    example-tag-2: example-tag-2-value
                  yaml: |
                    service:
                      name: "Example_service"
                      identifier: "example_service"
                      tags: {}
                created: 1234567890
                updated: 1234567890
        application/yaml:
          schema:
            $ref: '#/components/schemas/ServiceResponse'
          examples:
            example-1:
              value: |
                service:
                  account: sample_account
                  identifier: example_service
                  org: sample_organization
                  project: sample_project
                  name: Example_service
                  description: This is a example service
                  tags:
                    example-tag-1: example-tag-1-value
                    example-tag-2: example-tag-2-value
                  yaml: |
                    service:
                      name: "Example_service"
                      identifier: "example_service"
                      tags: {}
                created: 1234567890
                updated: 1234567890
    OrganizationResponse:
      description: Organization response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/OrganizationResponse'
          examples:
            example-organization-response-json:
              value:
                org:
                  identifier: example_organization
                  name: Example Organization
                  description: This is an example organization
                  tags:
                    example-tag-1: example-tag-1-value
                    example-tag-2: example-tag-2-value
                created: 1234567890
                updated: 1234567890
                harness_managed: true
        application/yaml:
          schema:
            $ref: '#/components/schemas/OrganizationResponse'
          examples:
            example-organization-response-yaml:
              value: |
                org:
                  identifier: example_organization
                  name: Example Organization
                  description: This is an example organization
                  tags:
                    example-tag-1: example-tag-1-value
                    example-tag-2: example-tag-2-value
                created: 1234567890
                updated: 1234567890
                harness_managed: true
    ProjectResponse:
      description: Project response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ProjectResponse'
          examples:
            example-project-response-json:
              value:
                project:
                  org: example_org_identifier
                  identifier: example_project_identifier
                  name: example-project-name
                  color: '#0063F7'
                  modules:
                    - CD
                  description: This is a example project
                  tags:
                    property1: value1
                    property2: value2
                created: 1234567890
                updated: 1234567890
                isFavorite: true
        application/yaml:
          schema:
            $ref: '#/components/schemas/ProjectResponse'
          examples:
            example-project-response-yaml:
              value: |
                project:
                  org: example_org_identifier
                  identifier: example_project_identifier
                  name: example-project-name
                  color: '#0063F7'
                  modules:
                    - CD
                  description: This is a example project
                  tags:
                    property1: value1
                    property2: value2
                created: 1234567890
                updated: 1234567890
                isFavorite: true
    FavoriteResponse:
      description: Favorite response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/FavoriteResponse'
          examples:
            example-Favorite-response-json:
              value:
                Favorite:
                  org: sample_organization
                  project: sample_project
                  user_id: example_userId
                  resource_type: Example_resourceType
                  resource_id: Example_resourceId
                created: 1234567890
    FavoriteListResponse:
      description: Favorite list response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/FavoriteResponse'
          examples:
            example-Favorite-list-response-json:
              value:
                - Favorite:
                    account: sample_account
                    org: sample_organization
                    project: sample_project
                    user_id: example_userId
                    resource_type: Example_resourceType
                    resource_id: Example_resourceId
                  created: 1234567890
      headers:
        X-Total-Elements:
          schema:
            type: integer
          description: Total number of elements returned in Paginated response.
        X-Page-Number:
          schema:
            type: integer
          description: Page number in Paginated response.
        X-Page-Size:
          schema:
            type: integer
          description: Maximum page size in Paginated response.
    ProjectListResponse:
      description: Project list response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ProjectResponse'
          examples:
            example-project-list-response-json:
              value:
                - project:
                    org: example_org_identifier
                    identifier: example_project_identifier
                    name: example-project-name
                    color: '#0063F7'
                    modules:
                      - CD
                    description: This is a example project
                    tags:
                      property1: value1
                      property2: value2
                  created: 1234567890
                  updated: 1234567890
                  isFavorite: true
        application/yaml:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ProjectResponse'
          examples:
            example-project-list-response-yaml:
              value: |
                - project:
                    org: example_org_identifier
                    identifier: example_project_identifier
                    name: example-project-name
                    color: '#0063F7'
                    modules:
                      - CD
                    description: This is a example project
                    tags:
                      property1: value1
                      property2: value2
                  created: 1234567890
                  updated: 1234567890
                  isFavorite: true
      headers:
        X-Total-Elements:
          schema:
            type: integer
          description: Total number of elements returned in Paginated response.
        X-Page-Number:
          schema:
            type: integer
          description: Page number in Paginated response.
        X-Page-Size:
          schema:
            type: integer
          description: Maximum page size in Paginated response.
    OrganizationListResponse:
      description: Organization list response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/OrganizationResponse'
          examples:
            example-organizations-list-response-json:
              value:
                - org:
                    identifier: example_organization
                    name: Example Organization
                    description: This is an example organization
                    tags:
                      example-tag-1: example-tag-1-value
                      example-tag-2: example-tag-2-value
                  created: 1234567890
                  updated: 1234567890
                  harness_managed: true
        application/yaml:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/OrganizationResponse'
          examples:
            example-organizations-list-response-yaml:
              value: |
                - org:
                    identifier: example_organization
                    name: Example Organization
                    description: This is an example organization
                    tags:
                      example-tag-1: example-tag-1-value
                      example-tag-2: example-tag-2-value
                  created: 1234567890
                  updated: 1234567890
                  harness_managed: true
      headers:
        X-Total-Elements:
          schema:
            type: integer
          description: Total number of elements returned in Paginated response.
        X-Page-Number:
          schema:
            type: integer
          description: Page number in Paginated response.
        X-Page-Size:
          schema:
            type: integer
          description: Maximum page size in Paginated response.
    SecretResponse:
      description: Secret response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SecretResponse'
          examples:
            example-secret-response-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHKeyPath
                    port: 80
                    username: example_secret
                    key_path: example_secret
                    encrypted_passphrase: account.example_secret
                created: 1234567890
                updated: 1234567890
                draft: false
        application/yaml:
          schema:
            $ref: '#/components/schemas/SecretResponse'
          examples:
            example-secret-response-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHKeyPath
                    port: 80
                    username: example_secret
                    key_path: example_secret
                    encrypted_passphrase: account.example_secret
                created: 1234567890
                updated: 1234567890
                draft: false
    SecretListResponse:
      description: Secret list response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/SecretResponse'
          examples:
            example-list-secret-response-json:
              value:
                - secret:
                    name: example_secret
                    identifier: example_secret
                    org: default
                    project: example_project
                    tags:
                      property1: example_secret
                    description: example_secret
                    spec:
                      type: SSHKeyPath
                      port: 80
                      username: example_secret
                      key_path: example_secret
                      encrypted_passphrase: account.example_secret
                  created: 1234567890
                  updated: 1234567890
                  draft: false
        application/yaml:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/SecretResponse'
          examples:
            example-list-secret-response-yaml:
              value: |
                - secret:
                    name: example_secret
                    identifier: example_secret
                    org: default
                    project: example_project
                    tags:
                      property1: example_secret
                    description: example_secret
                    spec:
                      type: SSHKeyPath
                      port: 80
                      username: example_secret
                      key_path: example_secret
                      encrypted_passphrase: account.example_secret
                  created: 1234567890
                  updated: 1234567890
                  draft: false
      headers:
        X-Total-Elements:
          schema:
            type: integer
          description: Total number of elements returned in Paginated response.
        X-Page-Number:
          schema:
            type: integer
          description: Page number in Paginated response.
        X-Page-Size:
          schema:
            type: integer
          description: Maximum page size in Paginated response.
    ModuleVersionsListResponse:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/ModuleVersionsResponse'
          examples: {}
      headers:
        X-Total-Elements:
          schema:
            type: integer
          description: Total number of elements returned in Paginated response.
        X-Page-Number:
          schema:
            type: integer
          description: Page number in Paginated response.
        X-Page-Size:
          schema:
            type: integer
          description: Maximum page size in Paginated response.
    SecretValidationResponse:
      description: 'Response of the secret reference validation '
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SecretValidationResponse'
          examples:
            Example 1:
              value:
                success: true
                message: 'Validation is Successful, Secret can be referenced'
    IPAllowlistConfigResponse:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/IPAllowlistConfigResponse'
    IPAllowlistConfigListResponse:
      description: Example response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/IPAllowlistConfigResponse'
      headers:
        X-Total-Elements:
          schema:
            type: integer
          description: Total number of elements returned in Paginated response.
        X-Page-Number:
          schema:
            type: integer
          description: Page number in Paginated response.
        X-Page-Size:
          schema:
            type: integer
          description: Maximum page size in Paginated response.
    IPAllowlistConfigValidateResponse:
      description: Example response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/IPAllowlistConfigValidateResponse'
    IPAllowlistValidateUniqueIdentifierResponse:
      description: Example response
      content:
        application/json:
          schema:
            type: boolean
    RancherListClustersResponse:
      description: Response containing list of rancher cluster names
      content:
        application/json:
          schema:
            type: array
            items:
              type: string
          examples:
            Example 1:
              value:
                - cluster1
                - cluster2
      headers:
        X-Total-Elements:
          schema:
            type: integer
          description: Total number of elements returned in Paginated response.
        X-Page-Number:
          schema:
            type: integer
          description: Page number in Paginated response.
        X-Page-Size:
          schema:
            type: integer
          description: Maximum page size in Paginated response.
    ManifestsResponseDTO:
      description: Response containing a list of eligible manifest identifiers that can be applied as primary manifest.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ManifestsResponseDTO'
          examples:
            Example 1:
              value:
                identifiers:
                  - id1
                  - id2
        application/xml:
          schema:
            type: object
            properties: {}
  requestBodies:
    ServiceRequest:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ServiceRequest'
          examples:
            example-1:
              value:
                identifier: example_service
                name: Example_service
                description: This is a example service
                tags:
                  example-tag-1: example-tag-1-value
                  example-tag-2: example-tag-2-value
                yaml: |
                  service:
                    name: "Example_service"
                    identifier: "example_service"
                    tags: {}
        application/yaml:
          schema:
            $ref: '#/components/schemas/ServiceRequest'
          examples:
            example-1:
              value: |
                identifier: example_service
                name: Example_service
                description: This is a example service
                tags:
                  example-tag-1: example-tag-1-value
                  example-tag-2: example-tag-2-value
                yaml: |
                  service:
                    name: "Example_service"
                    identifier: "example_service"
                    tags: {}
      description: Create Service request body
      required: true
    UpdateProjectRequest:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UpdateProjectRequest'
          examples:
            example-project-update-request-json:
              value:
                project:
                  identifier: example_project_identifier
                  name: example-project-name
                  color: '#0063F7'
                  modules:
                    - CD
                  description: This is a example project
                  tags:
                    property1: value1
                    property2: value2
        application/yaml:
          schema:
            $ref: '#/components/schemas/UpdateProjectRequest'
          examples:
            example-project-update-request-yaml:
              value: |
                project:
                  identifier: example_project_identifier
                  name: example-project-name
                  color: '#0063F7'
                  modules:
                    - CD
                  description: This is a example project
                  tags:
                    property1: value1
                    property2: value2
      description: Put the necessary fields for the API to update a Project.
      required: true
    CreateOrganizationRequest:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateOrganizationRequest'
          examples:
            example-create-organization-request-json:
              value:
                org:
                  identifier: example_organization
                  name: Example Organization
                  description: This is an Example organization
                  tags:
                    example-tag-1: example-tag-1-value
                    example-tag-2: example-tag-2-value
        application/yaml:
          schema:
            $ref: '#/components/schemas/CreateOrganizationRequest'
          examples:
            example-create-organization-request-yaml:
              value: |
                org:
                  identifier: example_organization
                  name: Example Organization
                  description: This is an Example organization
                  tags:
                    example-tag-1: example-tag-1-value
                    example-tag-2: example-tag-2-value
      description: Post the necessary fields for the API to create an organization.
      required: true
    UpdateOrganizationRequest:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/UpdateOrganizationRequest'
          examples:
            example-organization-update-request-json:
              value:
                org:
                  identifier: example_organization
                  name: Example Organization
                  description: This is an example organization
                  tags:
                    example-tag-1: example-tag-1-value
                    example-tag-2: example-tag-2-value
        application/yaml:
          schema:
            $ref: '#/components/schemas/UpdateOrganizationRequest'
          examples:
            example-organization-update-request-json:
              value: |
                org:
                  identifier: example_organization
                  name: Example Organization
                  description: This is an example organization
                  tags:
                    example-tag-1: example-tag-1-value
                    example-tag-2: example-tag-2-value
      description: Put the necessary fields for the API to update a organization.
      required: true
    CreateProjectRequest:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/CreateProjectRequest'
          examples:
            example-create-project-request-json:
              value:
                project:
                  identifier: example_project_identifier
                  name: example-project-name
                  color: '#0063F7'
                  modules:
                    - CD
                  description: This is a example project
                  tags:
                    property1: value1
                    property2: value2
        application/yaml:
          schema:
            $ref: '#/components/schemas/CreateProjectRequest'
          examples:
            example-create-project-request-yaml:
              value: |
                project:
                  identifier: example_project_identifier
                  name: example-project-name
                  color: '#0063F7'
                  modules:
                    - CD
                  description: This is a example project
                  tags:
                    property1: value1
                    property2: value2
      description: Post the necessary fields for the API to create a project.
      required: true
    SecretRequest:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SecretRequest'
          examples:
            example-ssh-kerberos-tgt-key-tab-file-secret-request-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHKerberosTGTKeyTabFile
                    port: 22
                    principal: example-principal
                    realm: example-realm
                    key_path: key/file/path
            example-ssh-kerberos-tgt-password-secret-request-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHKerberosTGTPassword
                    port: 22
                    principal: example-principal
                    realm: example-realm
                    password: account.example-password
            example-secret-file-secret-request-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SecretFile
                    secret_manager_identifier: example_secret_manager_identifier
            example-secret-text-secret-request-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SecretText
                    secret_manager_identifier: example_secret_manager_identifier
                    value_type: Inline
                    value: example_secret_text_value
            example-ssh-key-path-file-secret-request-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHKeyPath
                    port: 22
                    username: example_username
                    key_path: ssh/key/path
                    encrypted_passphrase: account.example_passphrase
            example-ssh-key-reference-secret-request-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHKeyReference
                    port: 22
                    username: example_username
                    key: example/secret/key/path
                    encrypted_passphrase: account.example_passphrase
            example-ssh-password-secret-request-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHPassword
                    port: 22
                    username: example_username
                    password: account.example_password
            example-winrm-ntlm-secret-request-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: WinRmNTLM
                    port: 5986
                    domain: example-domain
                    username: example-username
                    password: example-password
                    use_ssl: true
                    skip_cert_checks: true
                    use_no_profile: true
            example-winrm-tgt-key-file-tab-secret-request-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: WinRmTGTKeyTabFile
                    port: 5986
                    principal: example-principal
                    realm: example-realm
                    key_path: key/file/path
                    use_ssl: true
                    skip_cert_checks: true
                    use_no_profile: true
            example-winrm-tgt-password-secret-request-json:
              value:
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: WinRmTGTPassword
                    port: 5986
                    principal: example-principal
                    realm: example-realm
                    password: example-password
                    use_ssl: true
                    skip_cert_checks: true
                    use_no_profile: true
        application/yaml:
          schema:
            $ref: '#/components/schemas/SecretRequest'
          examples:
            example-ssh-kerberos-tgt-key-tab-file-secret-request-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHKerberosTGTKeyTabFile
                    port: 22
                    principal: example-principal
                    realm: example-realm
                    key_path: key/file/path
            example-ssh-kerberos-tgt-password-secret-request-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHKerberosTGTPassword
                    port: 22
                    principal: example-principal
                    realm: example-realm
                    password: account.example-password
            example-secret-file-secret-request-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SecretFile
                    secret_manager_identifier: example_secret_manager_identifier
            example-secret-text-secret-request-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SecretText
                    secret_manager_identifier: example_secret_manager_identifier
                    value_type: Inline
                    value: example_secret_text_value
            example-ssh-key-path-file-secret-request-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHKeyPath
                    port: 22
                    username: example_username
                    key_path: ssh/key/path
                    encrypted_passphrase: account.example_passphrase
            example-ssh-key-reference-secret-request-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHKeyReference
                    port: 22
                    username: example_username
                    key: example/secret/key/path
                    encrypted_passphrase: account.example_passphrase
            example-ssh-password-secret-request-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: SSHPassword
                    port: 22
                    username: example_username
                    password: account.example_password
            example-winrm-ntlm-secret-request-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: WinRmNTLM
                    port: 5986
                    domain: example-domain
                    username: example-username
                    password: example-password
                    use_ssl: true
                    skip_cert_checks: true
                    use_no_profile: true
            example-winrm-tgt-key-file-tab-secret-request-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: WinRmTGTKeyTabFile
                    port: 5986
                    principal: example-principal
                    realm: example-realm
                    key_path: key/file/path
                    use_ssl: true
                    skip_cert_checks: true
                    use_no_profile: true
            example-winrm-tgt-password-secret-request-yaml:
              value: |
                secret:
                  name: example_secret
                  identifier: example_secret
                  org: default
                  project: example_project
                  tags:
                    property1: example_secret
                  description: example_secret
                  spec:
                    type: WinRmTGTPassword
                    port: 5986
                    principal: example-principal
                    realm: example-realm
                    password: example-password
                    use_ssl: true
                    skip_cert_checks: true
                    use_no_profile: true
        multipart/form-data:
          schema:
            properties:
              spec:
                $ref: '#/components/schemas/SecretRequest'
              file:
                type: string
                format: binary
            required:
              - file
              - spec
      required: true
    SecretValidationRequest:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SecretRequest'
          examples:
            Example 1:
              value:
                secret_manager_identifier: prod_sm_one
                secret_ref_path: path1/path2#key
      description: Details of the secret reference
    IPAllowlistConfigRequest:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/IPAllowlistConfigRequest'
    FavoriteRequest:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/FavoriteDTO'
          examples:
            ProjectFavConnector:
              value:
                org: org_id
                project: project_id
                user_id: user_id
                module: CD
                resource_type: CONNECTOR
                resource_id: resource_id
  parameters:
    Page:
      name: page
      in: query
      required: false
      schema:
        type: integer
        default: 0
      description: "Pagination page number strategy: Specify the page number within the paginated collection related to the number of items in each page\t"
    Limit:
      name: limit
      in: query
      required: false
      schema:
        type: integer
        default: 30
        maximum: 1000
      description: Number of items to return per page.
    onlyFavorites:
      name: only_favorites
      in: query
      required: false
      schema:
        type: boolean
      description: >-
        Enable this field to fetch only the entities that are marked as favorites.
    SearchTerm:
      name: search_term
      in: query
      required: false
      schema:
        type: string
      description: This would be used to filter resources having attributes matching with search term.
    ResourceId:
      name: resource_id
      in: query
      required: false
      schema:
        type: string
      description: This would be used to do operations on the favorite entity.
    AccountHeader:
      name: Harness-Account
      in: header
      required: false
      schema:
        type: string
      description: 'Identifier field of the account the resource is scoped to. This is required for Authorization methods other than the x-api-key header. If you are using the x-api-key header, this can be skipped.'
    ForceDelete:
      name: forceDelete
      in: query
      schema:
        type: boolean
        default: false
      description: Enable this field to force delete a template
    OrgsQueryParam:
      name: org
      in: query
      required: false
      schema:
        type: array
        items:
          type: string
      description: Identifier field of the organizations the resource is scoped to
    ProjectsQueryParam:
      name: project
      in: query
      required: false
      schema:
        type: array
        items:
          type: string
      description: Identifier field of the projects the resource is scoped to
    OrgPathParam:
      name: org
      in: path
      required: true
      schema:
        type: string
      description: Identifier field of the organization the resource is scoped to
    UserIdPathParam:
      name: user-id
      in: path
      required: true
      schema:
        type: string
      description: This would be used to fetch the Favorites of the user.
    PrivateSecret:
      name: private_secret
      in: query
      schema:
        type: boolean
        default: false
      description: This would be used to define secret as private.
    ProjectPathParam:
      name: project
      in: path
      required: true
      schema:
        type: string
      description: Identifier field of the project the resource is scoped to
    ServicePathParam:
      name: service
      in: path
      required: true
      schema:
        type: string
      description: Identifier field of the service the resource is scoped to
    ServiceIdentifiers:
      name: service_ids
      in: query
      required: false
      schema:
        type: array
        uniqueItems: true
        items:
          type: string
      description: List of Service Identifiers
    Sort:
      name: sort
      in: query
      required: false
      schema:
        type: string
        enum:
          - name
          - identifier
          - created
          - updated
      description: Parameter on the basis of which sorting is done.
    Order:
      name: order
      in: query
      required: false
      schema:
        type: string
        enum:
          - ASC
          - DESC
      description: Order on the basis of which sorting is done.
    ResourceType:
      name: resource_type
      in: query
      required: false
      schema:
        type: string
        enum:
          - CONNECTOR
          - DELEGATE
          - PIPELINE
          - SECRET
          - PROJECT
      description: Determines the type of favorite entity requested.
    ConnectorPathParam:
      name: connector
      in: path
      required: true
      schema:
        type: string
      description: Identifier field of the scoped connector entity to be used for this operation.
    EnvironmentPathParam:
      name: environment
      in: path
      required: true
      schema:
        type: string
      description: Identifier field of the scoped environment entity to be used for the selected operation.
    InfrastructureDefinitionPathParam:
      name: infrastructure-definition
      in: path
      required: true
      schema:
        type: string
      description: Identifier field of the scoped infrastructure definition entity to be used in the selected operation.